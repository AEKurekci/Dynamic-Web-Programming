<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>Tuval Mobile Phone</title>
</head>
<body>
    <script src="mobilePhone.js"></script>
    <nav>
        <ul class="topMenu">
            <a href="#" ><img src="image/logo.png" alt=""></a>
            <li><a href="#">Anasayfa</a></li>
            <li><a href="#">Telefon Modelleri</a></li>
            <li><a href="#">Hakkımızda</a></li>
            <li><a href="#">İletişim</a></li>
            <li><a href="#">Sepetim</a></li>
        </ul>
    </nav>
        <header id="best" class="best">
        <h3 style="text-align: center; color: rgb(70, 57, 23);">Öne Çıkan Ürün!</h3>
        
        </header>
    <div class="flex-container">
        <div class="filtreleme" style="flex-grow: 2">
            <ul>
                <h4><li>Filtrele</li></h4>
                <li><a href="#">Marka</a></li>
                <li><a href="#">Model</a></li>
                <li><a href="#">Screen</a></li>
                <li><a href="#">Kamera</a></li>
                <li><a href="#">İşlemci</a></li>
                <li><a href="#">Ram</a></li>
                <li><a href="#">Hafıza</a></li>
                <li><a href="#">Batarya</a></li>
                <li><a href="#">İşletim Sistemi</a></li>
                <li><a href="#">Fiyat</a></li>
            </ul>        
        </div>
        <section id="allProducts" style="flex-grow: 3">
            
        </section>
    </div>
    
    
    <footer>
        
        <!-- sepet-->
        <div class="sepet" id="sepetim">
            <h3 style="text-align: center; color: rgb(12, 32, 23);">Sepetiniz</h3>
            <div class="productInBasket" id="parentBasket">
                <img class="photoOfBasket" src="image/logo.png" alt="">
                <ul class="infoContainer"><h5>huaweiP10</h5>
                    <li>name</li>
                    <li>price</li>
                </ul>
                <button class="deleteFromBasket" onclick="document.getElementById('parentBasket').remove();
                if(document.getElementById('sepetim').childElementCount == 1)
                {document.getElementById('buyDiv').style.visibility = 'hidden';
                document.getElementById('paymentType').style.visibility ='hidden';
                }">Sil</button>
            </div>
        </div>

        <div id="buyDiv" class="payButtons">
            <button id="buy" onclick="document.getElementById('paymentType').style.visibility='visible'">Satın Al</button> 
            <button id="continue">Alışverişe Devam Et</button> 
        </div>

        <div id="paymentType" style="visibility: hidden;">
            <h5>Ödeme Tipini Seçiniz</h5>
            <input type="radio" id="wire" name="odeme">
            <label for="wire">Elektronik Transfer</label><br>
            <input type="radio" id="credit" name="odeme">
            <label for="credit">Kredi Kartı</label><br>
            
            <button type="button" onclick="document.getElementById('odemeBasariliAlert').style.visibility = 'visible';
            document.getElementById('paymentType').style.visibility = 'hidden';
            document.getElementById('buyDiv').style.visibility = 'hidden';
            for(var k = 0; k <= document.getElementById('sepetim').childElementCount; k++){
                document.getElementById('sepetim').lastChild.remove();
            }">Öde
            </button>
        </div>
        <div id="odemeBasariliAlert" class="alert">
            <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
            Ödeme başarılı bir şekilde yapıldı! Siparişiniz kargoda.
        </div>
        
        <div class="newProduct">
            <div id="yeniUrunButton" class="newProductButton">
                <button type="button" onclick="document.getElementById('ekleForm').style.visibility = 'visible'">Yeni Ürün Ekle</button>
            </div>
            <!--
                ürün ekleme formu
            <button type="button" onclick="document.getElementById('ekleForm').style.visibility = 'visible'">Yeni Ürün Ekle</button>
            -->
            <form id="ekleForm" autocomplete="on" style="visibility: hidden;">
                <table id="tblEkle" style="width:50%;">
                    <tr>
                        <th>Telefon Ekle</th>
                        <th></th>
                    </tr>
                    <tr>
                        <td><label for="fBrand">Marka: </label></td>
                        <td><input type="text" id="fBrand"></td>
                    </tr>
                    <tr>
                        <td><label for="fModel">Model: </label></td>
                        <td><input type="text" id="fModel"></td>
                    </tr>
                    <tr>
                        <td><label for="fScreen">Ekran: </label></td>
                        <td><input type="text" id="fScreen"></td>
                    </tr>
                    <tr>
                        <td><label for="fCamera">Kamera: </label></td>
                        <td><input type="text" id="fCamera"></td>
                    </tr>
                    <tr>
                        <td><label for="fCPU">İşlemci: </label></td>
                        <td><input type="text" id="fCPU"></td>
                    </tr>
                    <tr>
                        <td><label for="fRAM">RAM: </label></td>
                        <td><input type="text" id="fRAM"></td>
                    </tr>
                    <tr>
                        <td><label for="fMemory">Hafıza: </label></td>
                        <td><input type="text" id="fMemory"></td>
                    </tr>
                    <tr>
                        <td><label for="fBattery">Batarya: </label></td>
                        <td><input type="text" id="fBattery"></td>
                    </tr>
                    <tr>
                        <td><label for="fOS">İşletim Sistemi: </label></td>
                        <td><input type="text" id="fOS"></td>
                    </tr>
                    <tr>
                        <td><label for="fExtra">Ekstra Özellik: </label></td>
                        <td><input type="text" id="fExtra"></td>
                    </tr>
                    <tr>
                        <td><label for="fOldPrice">Eski Fiyat: </label></td>
                        <td><input type="text" id="fOldPrice"></td>
                    </tr>
                    <tr>
                        <td><label for="fPrice">Fiyat: </label></td>
                        <td><input type="text" id="fPrice"></td>
                    </tr>
                    <tr>
                        <td><label for="fPicture">Fotoğraf Adresi: </label></td>
                        <td> <input type="text" id="fPicture"><br></td>
                    </tr>
                    <tr>
                        <td>
                            
                        </td>
                        <td>
                            <button type="button" onclick="var lastPhone = new phone(document.getElementById('fBrand').value,
                            document.getElementById('fModel').value,document.getElementById('fScreen').value,
                            document.getElementById('fCamera').value,document.getElementById('fCPU').value,
                            document.getElementById('fRAM').value,document.getElementById('fMemory').value,
                            document.getElementById('fBattery').value,document.getElementById('fOS').value,
                            document.getElementById('fExtra').value,document.getElementById('fOldPrice').value,
                            document.getElementById('fPrice').value,document.getElementById('fPicture').value);
                            phoneList.push(lastPhone);
                            document.getElementById('ekleForm').style.visibility = 'hidden'
                            document.getElementById('eklemeBasariliAlert').style.visibility = 'visible';
                            
                            placedProdect(lastPhone,false)">Ekle</button>
                        </td>
                    </tr>
                </table>
                <div id="eklemeBasariliAlert" class="alert">
                    <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
                    Ürün başarılı bir şekilde eklendi!
                </div>
            </form>
            <p style="text-align: center; font-size: small;">Tuval Yazılım Copyright &copy;</p>
        </div>
    </footer>

    <!--
        Ürünlerin oluşturulması ve ana ekrana yerleştirilmesi
    -->
    <script>
        var counter = 0;
        var huaweiP10 = new phone("Huawei", "P10", "5.1 inch Full HD", 32, "Kirin 960", 4, 64, 3200, "Android 9", "", 3500, 3000, "image/huaweip10.jpg");
        var samsungS8 = new phone("Samsung", "S8", "5.8 inch Full HD", 12, "Snapdragon 835", 4, 64, 3500, "Android 9", "", 4000, 3500, "image/samsungs8.jpg");
        var samsungS7 = new phone("Samsung", "S7", "5.5 inch Full HD", 10, "Snapdragon 765", 4, 32, 3500, "Android 7", "", 3200, 3000, "image/samsungs7.jpg");
        var phoneList = new Array();
        phoneList.push(huaweiP10);
        phoneList.push(samsungS8);
        phoneList.push(samsungS7);

        var lengthOfList = phoneList.length;
        for(var i=0;i< lengthOfList; i++){
            var thePhone = phoneList[i];
            if(i == 0){
                placedBest(thePhone);
            }
            placedProdect(thePhone,i);
        }
        function placedBest(item){
            var divProduct = document.createElement('div');
                divProduct.setAttribute('class', 'bestProduct');
                document.getElementById('best').appendChild(divProduct);
                
                var divOfLeft = document.createElement('div');
                divOfLeft.setAttribute('class', 'bestLeft');
                divProduct.appendChild(divOfLeft);
                var imageOfProduct = document.createElement('img');
                imageOfProduct.src = item.GetPicture();
                divOfLeft.appendChild(imageOfProduct);

                var divFeatures = document.createElement('div');
                divFeatures.setAttribute('class', 'bestRight');
                divProduct.appendChild(divFeatures);
                var ulOfFeature = document.createElement('ul');
                ulOfFeature.setAttribute('class', 'bestFeatureList');
                divFeatures.appendChild(ulOfFeature);

                var liName = document.createElement('h4');
                var nodeName = document.createTextNode(item.GetName());
                liName.appendChild(nodeName);
                ulOfFeature.appendChild(liName);

                var liScreen = document.createElement('li');
                var nodeScreen = document.createTextNode(item.GetScreen());
                liScreen.appendChild(nodeScreen);
                ulOfFeature.appendChild(liScreen);
                
                var liCamera = document.createElement('li');
                var nodeCamera = document.createTextNode(item.GetCamera() + ' MP');            
                liCamera.appendChild(nodeCamera);
                ulOfFeature.appendChild(liCamera);

                var liCPU = document.createElement('li');
                var nodeCPU = document.createTextNode(item.GetCPU());            
                liCPU.appendChild(nodeCPU);
                ulOfFeature.appendChild(liCPU);

                var liRam = document.createElement('li');
                var nodeRam = document.createTextNode(item.GetRam() + ' GB');            
                liRam.appendChild(nodeRam);
                ulOfFeature.appendChild(liRam);

                var liMemory = document.createElement('li');
                var nodeMemory = document.createTextNode(item.GetMemory() + ' GB');            
                liMemory.appendChild(nodeMemory);
                ulOfFeature.appendChild(liMemory);

                var liBattery = document.createElement('li');
                var nodeBattery = document.createTextNode(item.GetBattery() + ' mAh');            
                liBattery.appendChild(nodeBattery);
                ulOfFeature.appendChild(liBattery);

                var liOS = document.createElement('li');
                var nodeOS = document.createTextNode(item.GetOS());            
                liOS.appendChild(nodeOS);
                ulOfFeature.appendChild(liOS);

                var liExtras = document.createElement('li');
                var nodeExtras = document.createTextNode(item.GetExtras());            
                liExtras.appendChild(nodeExtras);
                ulOfFeature.appendChild(liExtras);

                var ulPrice = document.createElement('ul');    
                ulPrice.setAttribute('class', 'bestPriceUL')     
                ulOfFeature.appendChild(ulPrice);

                var liFiyat = document.createElement('li');
                var nodeOfFiyat = document.createTextNode('Fiyatı: ');
                liFiyat.appendChild(nodeOfFiyat);
                ulPrice.appendChild(liFiyat)

                var liOldPrice = document.createElement('li');
                var delTag = document.createElement('del');
                var nodeOldPrice = document.createTextNode(item.GetOldPrice() + ' ₺'); 
                delTag.appendChild(nodeOldPrice);  
                liOldPrice.appendChild(delTag);
                ulPrice.appendChild(liOldPrice);

                var liPrice = document.createElement('li');
                var nodePrice = document.createTextNode('  ' + item.GetPrice() + ' ₺');            
                liPrice.appendChild(nodePrice);
                ulPrice.appendChild(liPrice);

                var liBasketButton = document.createElement('button');
                var nodeOfBasket = document.createTextNode('İncele');
                liBasketButton.appendChild(nodeOfBasket);
                ulPrice.appendChild(liBasketButton);
        }

        function placedProdect(item, indexOfItem){
            var divProduct = document.createElement('div');
            divProduct.setAttribute('class', 'product');
            document.getElementById('allProducts').appendChild(divProduct);
            
            var divOfLeft = document.createElement('div');
            divOfLeft.setAttribute('class', 'left');
            divProduct.appendChild(divOfLeft);
            var imageOfProduct = document.createElement('img');
            imageOfProduct.src = item.GetPicture();
            divOfLeft.appendChild(imageOfProduct);

            var divFeatures = document.createElement('div');
            divFeatures.setAttribute('class', 'right');
            divProduct.appendChild(divFeatures);
            var ulOfFeature = document.createElement('ul');
            ulOfFeature.setAttribute('class', 'featureList');
            divFeatures.appendChild(ulOfFeature);

            var liName = document.createElement('h4');
            var nodeName = document.createTextNode(item.GetName());
            liName.appendChild(nodeName);
            ulOfFeature.appendChild(liName);

            var liScreen = document.createElement('li');
            var nodeScreen = document.createTextNode(item.GetScreen());
            liScreen.appendChild(nodeScreen);
            ulOfFeature.appendChild(liScreen);
            
            var liCamera = document.createElement('li');
            var nodeCamera = document.createTextNode(item.GetCamera() + ' MP');            
            liCamera.appendChild(nodeCamera);
            ulOfFeature.appendChild(liCamera);

            var liCPU = document.createElement('li');
            var nodeCPU = document.createTextNode(item.GetCPU());            
            liCPU.appendChild(nodeCPU);
            ulOfFeature.appendChild(liCPU);

            var liRam = document.createElement('li');
            var nodeRam = document.createTextNode(item.GetRam() + ' GB');            
            liRam.appendChild(nodeRam);
            ulOfFeature.appendChild(liRam);

            var liMemory = document.createElement('li');
            var nodeMemory = document.createTextNode(item.GetMemory() + ' GB');            
            liMemory.appendChild(nodeMemory);
            ulOfFeature.appendChild(liMemory);

            var liBattery = document.createElement('li');
            var nodeBattery = document.createTextNode(item.GetBattery() + ' mAh');            
            liBattery.appendChild(nodeBattery);
            ulOfFeature.appendChild(liBattery);

            var liOS = document.createElement('li');
            var nodeOS = document.createTextNode(item.GetOS());            
            liOS.appendChild(nodeOS);
            ulOfFeature.appendChild(liOS);

            var liExtras = document.createElement('li');
            var nodeExtras = document.createTextNode(item.GetExtras());            
            liExtras.appendChild(nodeExtras);
            ulOfFeature.appendChild(liExtras);

            var ulPrice = document.createElement('ul');    
            ulPrice.setAttribute('class', 'priceUL')     
            ulOfFeature.appendChild(ulPrice);

            var liFiyat = document.createElement('li');
            var nodeOfFiyat = document.createTextNode('Fiyatı: ');
            liFiyat.appendChild(nodeOfFiyat);
            ulPrice.appendChild(liFiyat)

            var liOldPrice = document.createElement('li');
            var delTag = document.createElement('del');
            var nodeOldPrice = document.createTextNode(item.GetOldPrice() + ' ₺'); 
            delTag.appendChild(nodeOldPrice);  
            liOldPrice.appendChild(delTag);
            ulPrice.appendChild(liOldPrice);

            var liPrice = document.createElement('li');
            var nodePrice = document.createTextNode('  ' + item.GetPrice() + ' ₺');            
            liPrice.appendChild(nodePrice);
            ulPrice.appendChild(liPrice);

            var liBasketButton = document.createElement('button');
            liBasketButton.setAttribute('id',indexOfItem);
            liBasketButton.setAttribute('onclick','var idIndividual = parseInt(this.id);var productForBasket = phoneList[idIndividual]; addToBasket(productForBasket, idIndividual);');
            var nodeOfBasket = document.createTextNode('Sepete Ekle');
            liBasketButton.appendChild(nodeOfBasket);
            ulPrice.appendChild(liBasketButton);
        }

        function addToBasket(elementToBasket, indexOfBasket){
            var divProductBasket = document.createElement('div');
            divProductBasket.setAttribute('class','productInBasket');
            divProductBasket.setAttribute('id','parentBasket'+ indexOfBasket);
            document.getElementById('sepetim').appendChild(divProductBasket);

            var imgOfProductBasket = document.createElement('img');
            imgOfProductBasket.src = elementToBasket.GetPicture();
            imgOfProductBasket.setAttribute('class','photoOfBasket');
            divProductBasket.appendChild(imgOfProductBasket);

            var ulInfoBasket = document.createElement('ul');
            ulInfoBasket.setAttribute('class','infoContainer');
            divProductBasket.appendChild(ulInfoBasket);

            var h5NameBasket = document.createElement('h5');
            var nodeNameBasket = document.createTextNode(elementToBasket.GetName());
            h5NameBasket.appendChild(nodeNameBasket);
            ulInfoBasket.appendChild(h5NameBasket);

            var liPriceBasket = document.createElement('li');
            var nodePriceBasket = document.createTextNode(elementToBasket.GetPrice() + " ₺");
            liPriceBasket.appendChild(nodePriceBasket);
            ulInfoBasket.appendChild(liPriceBasket);

            var buttonDeleteBasket = document.createElement('button');
            buttonDeleteBasket.setAttribute('class','deleteFromBasket');
            buttonDeleteBasket.setAttribute('onclick','document.getElementById("parentBasket'+indexOfBasket+
            '").remove();if(document.getElementById("sepetim").childElementCount == 1){document.getElementById("buyDiv").style.visibility = "hidden"; document.getElementById("paymentType").style.visibility ="hidden";}');
            var nodeDelete = document.createTextNode("Sil");
            buttonDeleteBasket.appendChild(nodeDelete);
            divProductBasket.appendChild(buttonDeleteBasket);
/*
            var buttonBuyBasket = document.createElement('button');
            var nodeBuyButton = document.createTextNode('Satın Al');
            buttonBuyBasket.setAttribute('class','buyButton');
            buttonBuyBasket.appendChild(nodeBuyButton);
            buttonBuyBasket.id = 'buy';
            document.getElementById('buyDiv').appendChild(buttonBuyBasket);*/
            document.getElementById('buyDiv').style.visibility = 'visible';

        }
/*
        var buttonNewProduct = document.createElement('button');
        buttonNewProduct.setAttribute('type','button');
        buttonNewProduct.setAttribute('onclick','document.getElementById("ekleForm").style.visibility = "visible"');
        var nodeOfYeniUrun = document.createTextNode('Yeni Ürün Ekle');
        buttonNewProduct.appendChild(nodeOfYeniUrun);
        document.getElementById('yeniUrunButton').appendChild(buttonNewProduct);*/
    </script>
</body>
</html>